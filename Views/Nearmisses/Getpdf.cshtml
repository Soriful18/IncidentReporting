@*

@{
    ViewData["Title"] = "Reports List";
    Layout = "~/Views/Shared/_LayoutDataTables.cshtml";
}
<h3 class="text-center text-uppercase">List of Nearmiss Incidents</h3>

<table id="example"  class="table table-bordered" style="width:100%;">
    <thead class="thead-dark">
        <tr>
            <th>Sl No.</th>
            <th>Incident ID</th>
            <th>Project</th>
            <th> Period </th>
            <th> Incident Date  </th>
            <th> Location of Incident </th>
            <th> Department/Div  </th>
            <th> Description </th>
            <th> Eye Witness  </th>
            <th> Escape  </th>
            <th> Reason of occurence </th>
            <th> Prventive Measure  </th>
            <th> Remark  </th>
            <th>Status </th>
            <th> Acceptance of HOD </th>
            <th>Remark of HOD  </th>
        </tr>
    </thead>
</table>

@section scripts{

    <script type="text/javascript">
        $(document).ready(function () {
            $('#example').DataTable({
                "ajax": {
                    "url": '~/Nearmisses/GetList',
                    "type": 'GET',
                    "dataType": 'json',
                },
                "columns": [
                    { 'data': 'Id' },
                    { 'data': 'RequestId' },
                    { 'data': 'Project' },
                    { 'data': 'Period' },
                    { 'data': 'ReleaseDate' },
                    { 'data': 'LocationIncident' },
                    { 'data': 'DepartmentDiv' },
                    { 'data': 'Description' },
                    { 'data': 'EyeWitness' },
                    { 'data': 'Escape' },
                    { 'data': 'Reason' },
                    { 'data': 'PrvMeasure' },
                    { 'data': 'Remark' },
                    { 'data': 'StatusNearmiss' },
                    { 'data': 'RemarkHod' },
                    { 'data': 'Status' },
                    //{
                    //    'data': 'ReleaseDate',
                    //    'render': function (jsonDate) {
                    //        var date = new Date(parseInt(jsonDate.substr(6)));
                    //        var month = ("0" + (date.getMonth() + 1)).slice(-2);
                    //        return ("0" + date.getDate()).slice(-2) + '-' + month + '-' + date.getFullYear();
                    //    }
                    //},
                    //{
                    //    'data': 'Salary',
                    //    'render': function (salary) {
                    //        return '$' + salary;
                    //    }
                    //}
                ],
                "dom": 'Bfrtip',
                "buttons": [
                    {
                        extend: 'copy',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="far fa-copy"></i> Copy'
                    },
                    {
                        extend: 'excel',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="far fa-file-excel"></i> Excel'
                    },
                    {
                        extend: 'pdf',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="far fa-file-pdf"></i> Pdf'
                    },
                    {
                        extend: 'csv',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="fas fa-file-csv"></i> CSV'
                    },
                    {
                        extend: 'print',
                        className: 'btn btn-dark rounded-0',
                        text: '<i class="fas fa-print"></i> Print'
                    }
                ]
            });
        });
    </script>
}

*@

@{
    ViewData["Title"] = "Home Page";
}

<link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">

<div class="text-center">

    <table id="userTable" class="display" style="width:100%">
        <thead class="thead-dark">
            <tr>
                <th>Sl No.</th>
                <th>Incident ID</th>
                <th>Project</th>
                <th> Period </th>
                <th> Incident Date  </th>
                <th> Location of Incident </th>
                <th> Department/Div  </th>
                <th> Description </th>
                <th> Eye Witness  </th>
                <th> Escape  </th>
                <th> Reason of occurence </th>
                <th> Prventive Measure  </th>
                <th> Remark  </th>
                <th>Status </th>
                <th> Acceptance of HOD </th>
                <th>Remark of HOD  </th>
            </tr>
        </thead>
    </table>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<script type="text/javascript">

    $(document).ready(function () {

        var table = $('#userTable').DataTable({
            "processing": true, // for show progress bar
            //"serverSide": true, // for process server side
            "filter": true, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "ajax": {
                'url': '@Url.Action("getAllUsers", "Nearmisses")',
                "type": "GET",
                "datatype": "json"

            },
            "columns": [

                { 'data': 'Id' },
                { 'data': 'RequestId' },
                { 'data': 'Project' },
                { 'data': 'Period' },
                { 'data': 'ReleaseDate' },
                { 'data': 'LocationIncident' },
                { 'data': 'DepartmentDiv' },
                { 'data': 'Description' },
                { 'data': 'EyeWitness' },
                { 'data': 'Escape' },
                { 'data': 'Reason' },
                { 'data': 'PrvMeasure' },
                { 'data': 'Remark' },
                { 'data': 'StatusNearmiss' },
                { 'data': 'RemarkHod' },
                { 'data': 'Status' }
                //{ "sTitle": "First Name", "data": "firstName" },
                //{ "sTitle": "Last Name", "data": "lastName" },
                //{ "sTitle": "Middle Name", "data": "middleName" },
                //{ "sTitle": "Contact", "data": "contact" }
            ]
        });



    });
</script>


